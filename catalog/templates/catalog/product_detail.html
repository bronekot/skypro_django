{% extends "includes/base.html" %}
{% block content %}
    <div class="container mt-5">
        <h1>{{ object.name }}</h1>
        <p>{{ object.description }}</p>
        {% if object.image %}
            <img src="{{ object.image.url }}"
                 alt="{{ object.name }}"
                 class="img-fluid mb-3">
        {% endif %}
        <p>Категория: {{ object.category }}</p>
        <p>Цена: {{ object.price }}</p>
        <h2>Версии продукта</h2>
        {% if object.versions.all %}
            <ul class="list-group mb-3">
                {% for version in object.versions.all %}
                    <li class="list-group-item {% if version.is_current %}list-group-item-success{% endif %}">
                        {{ version.version_name }} ({{ version.version_number }})
                        {% if version.is_current %}<span class="badge bg-success">Текущая</span>{% endif %}
                        <a href="{% url 'catalog:version_update' version.pk %}"
                           class="btn btn-sm btn-secondary float-end">Редактировать</a>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>У продукта нет версий</p>
        {% endif %}
        <a href="{% url 'catalog:version_create' %}" class="btn btn-primary">Добавить версию</a>
        <a href="{% url 'catalog:product_update' object.pk %}"
           class="btn btn-secondary">Редактировать продукт</a>
        <a href="{% url 'catalog:product_delete' object.pk %}"
           class="btn btn-danger">Удалить продукт</a>
        <a href="{% url 'catalog:home' %}" class="btn btn-link">Назад к списку</a>
    </div>
{% endblock %}
